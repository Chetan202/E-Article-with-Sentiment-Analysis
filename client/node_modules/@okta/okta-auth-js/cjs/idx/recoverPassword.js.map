{"version":3,"sources":["../../../lib/idx/recoverPassword.ts"],"names":["flow","Identify","SelectAuthenticatorAuthenticate","ChallengeAuthenticator","AuthenticatorVerificationData","ResetAuthenticator","ReEnrollAuthenticator","recoverPassword","authClient","options","flowMonitor","PasswordRecoveryFlowMonitor","actions"],"mappings":";;;;AAAA;;AACA;;AAcA;;AAOA,MAAMA,IAAqB,GAAG;AAC5B,cAAYC,qBADgB;AAE5B,uBAAqBA,qBAFO;AAG5B,uCAAqCC,4CAHT;AAI5B,6BAA2BC,mCAJC;AAK5B,qCAAmCC,0CALP;AAM5B,yBAAuBC,+BANK;AAO5B,4BAA0BC;AAPE,CAA9B;;AAkBO,eAAeC,eAAf,CACLC,UADK,EACiBC,OADjB,EAEoB;AACzB,QAAMC,WAAW,GAAG,IAAIC,yCAAJ,EAApB;AACA,SAAO,cACLH,UADK,EAEL,EACE,GAAGC,OADL;AAEET,IAAAA,IAFF;AAGEU,IAAAA,WAHF;AAIEE,IAAAA,OAAO,EAAE,CACP,8BADO,EAEP,wCAFO;AAJX,GAFK,CAAP;AAYD","sourcesContent":["import { run, RemediationFlow } from './run';\nimport {\n  Identify,\n  IdentifyValues,\n  SelectAuthenticatorAuthenticate,\n  SelectAuthenticatorAuthenticateValues,\n  ChallengeAuthenticator,\n  ChallengeAuthenticatorValues,\n  AuthenticatorVerificationData,\n  AuthenticatorVerificationDataValues,\n  ResetAuthenticator,\n  ResetAuthenticatorValues,\n  ReEnrollAuthenticator,\n  ReEnrollAuthenticatorValues,\n} from './remediators';\nimport { PasswordRecoveryFlowMonitor } from './flowMonitors';\nimport { \n  OktaAuth, \n  IdxOptions, \n  IdxTransaction,\n} from '../types';\n\nconst flow: RemediationFlow = {\n  'identify': Identify,\n  'identify-recovery': Identify,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'reset-authenticator': ResetAuthenticator,\n  'reenroll-authenticator': ReEnrollAuthenticator,\n};\n\nexport type PasswordRecoveryOptions = IdxOptions \n  & IdentifyValues \n  & SelectAuthenticatorAuthenticateValues \n  & ChallengeAuthenticatorValues \n  & ResetAuthenticatorValues\n  & AuthenticatorVerificationDataValues\n  & ReEnrollAuthenticatorValues;\n\nexport async function recoverPassword(\n  authClient: OktaAuth, options: PasswordRecoveryOptions\n): Promise<IdxTransaction> {\n  const flowMonitor = new PasswordRecoveryFlowMonitor();\n  return run(\n    authClient, \n    { \n      ...options,\n      flow,\n      flowMonitor,\n      actions: [\n        'currentAuthenticator-recover', \n        'currentAuthenticatorEnrollment-recover'\n      ],\n    }\n  );\n}\n"],"file":"recoverPassword.js"}