{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shivansh\\\\Desktop\\\\MERN-Stack-Projects-master\\\\MERN-Stack-Projects-master\\\\Blog-Website\\\\client\\\\src\\\\components\\\\details\\\\DetailView.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { Box, makeStyles, Typography, Grid } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\nimport { Link, useHistory } from 'react-router-dom';\nimport { getPost, deletePost, updatePost } from '../../service/api';\nimport { LoginContext } from '../../context/ContextProvider'; //components\n\nimport Comments from './comments/Comments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyle = makeStyles(theme => ({\n  container: {\n    margin: '50px 100px',\n    [theme.breakpoints.down('md')]: {\n      margin: 0\n    }\n  },\n  image: {\n    width: '100%',\n    height: '50vh',\n    objectFit: 'cover'\n  },\n  icons: {\n    float: 'right'\n  },\n  icon: {\n    margin: 5,\n    padding: 5,\n    border: '1px solid #878787',\n    borderRadius: 10\n  },\n  heading: {\n    fontSize: 38,\n    fontWeight: 600,\n    textAlign: 'center',\n    margin: '50px 0 10px 0'\n  },\n  author: {\n    color: '#878787',\n    display: 'flex',\n    margin: '20px 0',\n    [theme.breakpoints.down('sm')]: {\n      display: 'block'\n    }\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'inherit'\n  }\n}));\n\nconst DetailView = ({\n  match\n}) => {\n  _s();\n\n  const classes = useStyle();\n  const url = 'https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';\n  const history = useHistory();\n  const [post, setPost] = useState({});\n  const {\n    account,\n    setAccount\n  } = useContext(LoginContext);\n  useEffect(() => {\n    const fetchData = async () => {\n      let data = await getPost(match.params.id);\n      setPost(data);\n    };\n\n    fetchData();\n    console.log(account, post.username);\n  }, []);\n\n  const deleteBlog = async () => {\n    await deletePost(post._id);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: post.picture || url,\n      alt: \"post\",\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.icons,\n      children: account === post.username && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/update/${post._id}`,\n          children: /*#__PURE__*/_jsxDEV(Edit, {\n            className: classes.icon,\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          children: /*#__PURE__*/_jsxDEV(Delete, {\n            onClick: () => deleteBlog(),\n            className: classes.icon,\n            color: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.heading,\n      children: post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.author,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/?username=${post.username}`,\n        className: classes.link,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 600\n            },\n            children: post.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          marginLeft: 'auto'\n        },\n        children: new Date(post.createdDate).toDateString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.detail,\n      children: post.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Comments, {\n      post: post\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DetailView, \"jk8sMmwQ9r1QUZov7V4IKbmdMAs=\", false, function () {\n  return [useStyle, useHistory];\n});\n\n_c = DetailView;\nexport default DetailView;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailView\");","map":{"version":3,"sources":["C:/Users/shivansh/Desktop/MERN-Stack-Projects-master/MERN-Stack-Projects-master/Blog-Website/client/src/components/details/DetailView.jsx"],"names":["useState","useEffect","useContext","Box","makeStyles","Typography","Grid","Delete","Edit","Link","useHistory","getPost","deletePost","updatePost","LoginContext","Comments","useStyle","theme","container","margin","breakpoints","down","image","width","height","objectFit","icons","float","icon","padding","border","borderRadius","heading","fontSize","fontWeight","textAlign","author","color","display","link","textDecoration","DetailView","match","classes","url","history","post","setPost","account","setAccount","fetchData","data","params","id","console","log","username","deleteBlog","_id","push","picture","title","marginLeft","Date","createdDate","toDateString","detail","description"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { Box, makeStyles, Typography, Grid } from '@material-ui/core';\nimport { Delete, Edit } from '@material-ui/icons';\nimport { Link, useHistory } from 'react-router-dom'\nimport { getPost, deletePost, updatePost } from '../../service/api';\n\nimport { LoginContext } from '../../context/ContextProvider';\n\n//components\nimport Comments from './comments/Comments';\n\nconst useStyle = makeStyles(theme => ({\n    container: {\n        margin: '50px 100px',\n        [theme.breakpoints.down('md')]: {\n            margin: 0\n        },\n    },\n    image: {\n        width: '100%',\n        height: '50vh',\n        objectFit: 'cover'\n    },\n    icons: {\n        float: 'right'\n    },\n    icon: {\n        margin: 5,\n        padding: 5,\n        border: '1px solid #878787',\n        borderRadius: 10\n    },\n    heading: {\n        fontSize: 38,\n        fontWeight: 600,\n        textAlign: 'center',\n        margin: '50px 0 10px 0'\n    },\n    author: {\n        color: '#878787',\n        display: 'flex',\n        margin: '20px 0',\n        [theme.breakpoints.down('sm')]: {\n            display: 'block'\n        },\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit'\n    }\n}));\n\n\nconst DetailView = ({ match }) => {\n    const classes = useStyle();\n    const url = 'https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';\n    const history = useHistory();\n    \n    const [post, setPost] = useState({});\n    const { account, setAccount } = useContext(LoginContext);\n    \n    useEffect(() => {\n        const fetchData = async () => {\n            let data = await getPost(match.params.id);\n            setPost(data);\n        }\n        fetchData();\n        console.log(account, post.username);\n    }, []);\n\n    const deleteBlog = async () => {    \n        await deletePost(post._id);\n        history.push('/')\n    }\n\n    return (\n        <Box className={classes.container}>\n            <img src={post.picture || url} alt=\"post\" className={classes.image} />\n            <Box className={classes.icons}>\n                {   \n                    account === post.username && \n                    <>  \n                        <Link to={`/update/${post._id}`}><Edit className={classes.icon} color=\"primary\"/></Link>\n                        <Link><Delete onClick={() => deleteBlog()} className={classes.icon} color=\"error\" /></Link>\n                    </>\n                }\n            </Box>\n            <Typography className={classes.heading}>{post.title}</Typography>\n\n            <Box className={classes.author}>\n                <Link to={`/?username=${post.username}`} className={classes.link}>\n                    <Typography>Author: <span style={{fontWeight: 600}}>{post.username}</span></Typography>\n                </Link>\n                <Typography style={{marginLeft: 'auto'}}>{new Date(post.createdDate).toDateString()}</Typography>\n            </Box>\n\n            <Typography className={classes.detail}>{post.description}</Typography>\n            <Comments post={post} />\n        </Box>\n    )\n}\n\nexport default DetailView;"]},"metadata":{},"sourceType":"module"}